# 안면인식 서버 관리자 대시보드 향후 개발 계획

이 문서는 HTTPS·로그인·DB 연동 인증(Phase 6·7·8)까지 완료된 시점에서, 향후 품질·운영 강화를 위한 계획을 기술합니다.

---

## 1. 테스트 (API 단위/통합, 프론트 E2E)

**무슨 내용인지**
- **API 단위/통합 테스트**: 서버 API 하나하나(단위) 또는 여러 API가 맞물려 동작하는 흐름(통합)을 **코드로 자동 검증**하는 것.  
  예: `POST /auth/login` 호출 → 200 + 토큰 반환, `GET /users/`에 그 토큰 넣으면 200 + 목록 반환 등.
- **프론트 E2E**: 브라우저를 띄워서 "로그인 → 대시보드 → 사용자 목록 → 수정"처럼 **실제 사용자 시나리오 전체**를 자동으로 한 번에 돌려보는 테스트.

**왜 필요하다고 했는지**
- 코드를 바꿀 때마다 "이전에 되던 게 깨지지 않았는지" **빠르게 확인**할 수 있음.
- 나중에 다른 사람이 수정하거나 기능을 더 붙일 때, **회귀 버그(원래 되던 게 깨지는 것)** 를 줄일 수 있음.
- 이력서/면접에서 "테스트까지 작성해 본 경험"으로 **품질·운영 관점**을 보여줄 수 있어서 "한 단계 더"라고 말한 것입니다.

---

## 2. 에러/엣지 케이스 (토큰 만료·갱신, API 실패 피드백, 유효성 검사)

**무슨 내용인지**
- **토큰 만료·갱신**: JWT가 만료되면 서버가 401을 줄 수 있음.  
  "만료됐을 때 사용자에게 다시 로그인하라고 안내"하거나,  
  (백엔드에서 refresh token을 지원한다면) "자동으로 토큰 갱신 후 재요청" 같은 처리를 말함.
- **API 실패 시 사용자 피드백**: 네트워크 오류, 500, 404 등이 났을 때  
  "일단 alert('오류 발생')"가 아니라, **화면에 메시지나 토스트로 무엇이 잘못됐는지** 보여주는 것.
- **유효성 검사**:  
  - 프론트: 빈 이름, 잘못된 형식 등 **입력 단계에서 막고 메시지 표시**  
  - 백엔드: 동일한 규칙으로 **한 번 더 검증**해서 잘못된 요청을 거르는 것.

**왜 필요하다고 했는지**
- 토큰이 만료된 채로 계속 쓰면 **갑자기 로그인 화면으로 튕기거나** API가 401만 반환하는 상황이 됨.  
  "만료 시 어떻게 할지"를 정해두면 **실제 서비스에 가까운 동작**이 됨.
- API가 실패했을 때 사용자가 **"왜 안 되는지"** 알 수 있으면 디버깅·문의가 줄고, **UX**가 좋아짐.
- 유효성 검사가 없으면 **잘못된 데이터가 DB에 들어가거나** 나중에 다른 기능에서 에러가 나기 쉽고,  
  "입력 단계 + 서버 단계 모두 검증"하는 걸 **실무에서는 기본**으로 보기 때문에 "한 단계 더"에 넣었습니다.

---

## 3. 운영/관리 (로깅·모니터링, 등록 이미지 저장·조회)

**무슨 내용인지**
- **로깅**:  
  - 서버: 어떤 API가 언제 호출됐는지, 에러가 났을 때 스택/요청 정보를 **파일이나 로그 시스템에 기록**.  
  - (선택) 프론트: 클라이언트에서 발생한 에러를 서버로 보내서 수집.
- **모니터링**:  
  - 서버가 살아 있는지(헬스 체크), 응답 시간, 에러 비율 등을 **대시보드나 알람으로 보는 것**.  
  - 지금 `/health`가 있는 것도 "모니터링에 쓸 수 있는 정보"에 해당함.
- **등록 이미지 저장·조회**:  
  - 지금은 "등록 시 쓴 이미지"를 저장하지 않아서 **나중에 사용자 관리 화면에서 그 이미지를 다시 볼 수 없음**.  
  - 이미지를 저장하고 `GET /users/{id}/image` 같은 API로 **다시 조회**할 수 있게 하는 **부가 기능**을 말한 것입니다.

**왜 필요하다고 했는지**
- **로깅**이 있으면 "프로덕션에서 뭔가 터졌을 때" **원인 추적**이 가능해짐.  
  로그가 없으면 "어디서, 어떤 요청에서" 문제가 났는지 찾기 어렵습니다.
- **모니터링**이 있으면 서버 다운, 응답 지연, 에러 급증을 **미리 또는 빠르게** 알아챌 수 있어서  
  "서비스를 안정적으로 돌린다"는 관점에서 **운영 단계**로 넘어가는 걸 말한 것입니다.
- **등록 이미지 저장·조회**는 "꼭 있어야 하는 기능"이라기보다,  
  **사용자 관리 페이지에서 등록 시 사용한 이미지를 보고 싶다**는 요구가 있을 때를 대비한 **선택적 확장**이라고 보시면 됩니다.

---

## 4. 요약

| 항목 | 무슨 의미인지 | 왜 "한 단계 더"라고 했는지 |
|------|----------------|----------------------------|
| **테스트** | API·프론트 동작을 **자동으로 검증**하는 코드 | 변경 시 안정성 확인, 회귀 버그 방지, 품질/운영 경험 어필 |
| **에러/엣지** | **토큰 만료·API 실패·입력 검증**을 의도적으로 처리 | 실제 서비스에 가까운 동작, UX·데이터 품질 향상 |
| **운영/관리** | **로그·헬스·모니터링** + (선택) 이미지 저장·조회 | 장애 대응·원인 분석, 서비스 안정성·확장성 |

지금 구현하신 것만으로도 "풀스택 웹 서비스"로서 충분한 수준이고,  
위 세 가지는 **실무에서 더 오래·더 많은 사용자를 대상으로 서비스를 운영할 때** 중요해지는 영역이라 "그다음 단계"로 언급한 것입니다.

---

## 5. 추가 고려사항
- **보안**: JWT Secret Key를 환경변수로 관리 (`.env`)
- **토큰 만료 처리**: 프론트엔드에서 토큰 만료 시 자동 로그아웃 및 리프레시 토큰 구현 검토
- **역할 기반 접근 제어 (RBAC)**: 필요 시 관리자 권한 레벨 도입
